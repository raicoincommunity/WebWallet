<div class="uk-animation-slide-left-small" uk-grid>
  <div class="uk-width-1-1">
    <div uk-grid class="uk-margin-small-bottom">
      <div class="uk-width-1-2">
        <h2>{{ 'P2P Market' | translate }}</h2>
      </div>
      <div *ngIf="activePanel === ''" class="uk-width-1-2 uk-text-right">
        <div uk-grid>
          <div class="uk-width-1-1">
            <button class="uk-button uk-button-secondary" (click)="activePanel = 'place_order'">
              {{ 'Place Order' | translate }}
            </button>
          </div>
        </div>
      </div>

      <div *ngIf="activePanel === 'place_order'" class="uk-width-1-2 uk-text-right">
        <div uk-grid>
          <div class="uk-width-1-1">
            <button class="uk-button uk-button-secondary" (click)="activePanel = ''">
              {{ 'Search & Swap' | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <p>
      {{ 'The Decentralized P2P exchange market built on Raicoin network!' | translate }}
    </p>

    <app-account-widget raiTitle="{{ 'Your account' | translate }}"></app-account-widget>

    <!-- Search Order Panel-->
    <div [hidden]="activePanel !== ''" class="uk-card uk-card-default uk-margin">
      <div class="uk-card-header">
        <div uk-grid>
          <div class="uk-width-2-3">
            <h3 class="uk-card-title">{{ 'Search & Swap' | translate }}</h3>
          </div>
          <div *ngIf="searchOrderCollapsed" (click)="searchOrderCollapsed = false" class="uk-width-1-3 uk-text-right">
            <span uk-icon="icon: plus-circle"></span>
          </div>
          <div *ngIf="!searchOrderCollapsed" (click)="searchOrderCollapsed = true" class="uk-width-1-3 uk-text-right">
            <span uk-icon="icon: minus-circle"></span>
          </div>
        </div>
      </div>

      <div [hidden]="searchOrderCollapsed" class="uk-card-body">
        <div class="uk-form-horizontal">

          <div class="uk-margin">
            <label class="uk-form-label" for="form-select-search-by">{{ 'Search By' | translate }} *</label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <select class="uk-select" [(ngModel)]="selectedSearchBy" id="form-select-search-by">
                  <option *ngFor="let option of searchByOptions()" [value]="option">{{ showSearchByOption(option) }}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <div *ngIf="selectedSearchBy === 'id'" class="uk-margin">
            <label class="uk-form-label" for="form-input-token-address">{{ 'Order ID' | translate }} *</label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <a (click)="removeInputSearchOrderId()" uk-icon="icon: trash;" class="uk-form-icon uk-form-icon-flip" style="padding-right: 0px;"></a>
                <input [(ngModel)]="inputSearchOrderId" class="uk-input" id="form-input-search-order-id" type="text"
                  [ngClass]="{ 'uk-form-success': searchOrderIdStatus() === 1, 'uk-form-danger': searchOrderIdStatus() === 2 }">
              </div>
            </div>
          </div>

          <div *ngIf="selectedSearchBy === 'pair'" class="uk-margin">
            <app-token-widget raiLabel="{{'You pay'}}" #searchToTokenWidget (raiChange)="onSearchTokenChange()"></app-token-widget>
          </div>

          <div *ngIf="selectedSearchBy === 'pair'" class="uk-margin">
            <app-token-widget raiLabel="{{'You get'}}" #searchFromTokenWidget (raiChange)="onSearchTokenChange()"></app-token-widget>
          </div>

          <div *ngIf="selectedSearchBy === 'pair'" class="uk-margin">
            <label class="uk-form-label" for="form-select-filter-by">
              {{ 'Filter By' | translate }}
            </label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <select class="uk-select" [(ngModel)]="selectedFilterBy" (change)="onSearchFilterByChange()" id="form-select-filter-by">
                  <option *ngFor="let option of filterByOptions()" [value]="option">{{ showFilterByOption(option) }}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <div *ngIf="selectedSearchBy === 'pair' && searchFilterTokenType() === '20'" class="uk-margin">
            <label class="uk-form-label" for="form-input-search-filter-amount">
              {{ 'Token Amount' | translate }}
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <a class="uk-form-icon uk-form-icon-flip" style="padding-right: 7px; width: auto;">{{ searchFilterTokenFormat() }}</a>
                    <input (change)="syncSearchFilterAmount()" (keyup)="syncSearchFilterAmount()" [(ngModel)]="inputSearchFilterAmount" class="uk-input" id="form-input-search-filter-amount" type="text" placeholder="{{ 'Optional' | translate }}" [ngClass]="{ 'uk-form-success': searchFilterAmountStatus === 1, 'uk-form-danger': searchFilterAmountStatus === 2 }">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="selectedSearchBy === 'pair' && searchFilterTokenType() === '721'" class="uk-margin">
            <label class="uk-form-label" for="form-input-search-filter-id">
              {{ 'Token ID' | translate }}
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <a class="uk-form-icon uk-form-icon-flip" style="padding-right: 7px; width: auto;">{{ searchFilterTokenFormat() }}</a>
                    <input (change)="syncSearchFilterId()" (keyup)="syncSearchFilterId()" [(ngModel)]="inputSearchFilterId" class="uk-input" id="form-input-search-filter-id" type="text" placeholder="{{ 'Optional' | translate }}" [ngClass]="{ 'uk-form-success': searchFilterIdStatus === 1, 'uk-form-danger': searchFilterIdStatus === 2 }">
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div [hidden]="searchOrderCollapsed" class="uk-card-footer uk-text-right">
        <div uk-grid>
          <div class="uk-width-1-2@m">
            <button routerLink="/assets" [queryParams]="{ add: 1}" class="uk-button uk-button-secondary uk-width-1-1">+ {{ 'Custom Token' |
              translate }}</button>
          </div>
          <div class="uk-width-1-2@m">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="search()">{{ 'Search Order' | translate
              }}</button>
          </div>
        </div>
      </div>
    </div>

    <div [hidden]="activePanel !== '' || searchOrderCollapsed || !searching()" uk-grid style="margin-top: 25px;">
      <div class="uk-width-1-1">
        <h3 class="uk-heading-divider uk-text-center" style="margin-bottom: 0;">{{ 'Search Results' | translate }}
        </h3>
        <table class="uk-table uk-table-striped uk-table-small" style="margin-top: 0;">
          <thead>
            <tr>
              <th class="uk-width-1-6 uk-text-left">{{ 'Maker' | translate }}</th>
              <th class="uk-width-1-3 uk-text-center">{{ 'Price' | translate }}</th>
              <th class="uk-width-1-3 uk-text-center">{{ 'Available' | translate }}</th>
              <th class="uk-width-1-6 uk-text-center">{{ 'Action' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of searchResults">
              <td (click)="selectOrder(order, false)" class="uk-text-left uk-text-truncate">{{ orderMaker(order) }}</td>
              <td (click)="selectOrder(order, false)" class="uk-text-center">{{ orderFromValue(order) }}<span *ngIf="pairWithSameSymbol(order).same" style="font-size: 12px;"> {{orderFromTokenTypeShown(order)}}</span> = {{orderToValue(order)}}<span *ngIf="pairWithSameSymbol(order).same" style="font-size: 12px;"> {{orderToTokenTypeShown(order)}}</span></td>
              <td (click)="selectOrder(order, false)" class="uk-text-center">{{ orderAvailable(order) }}<span *ngIf="pairWithSameSymbol(order).same" style="font-size: 12px;"> {{orderFromTokenTypeShown(order)}}</span></td>
              <td class="uk-text-center">
                <button *ngIf="orderActionStatus(order) === 'trade'" (click)="selectOrder(order, false)" class="uk-button uk-button-small uk-button-primary">{{ 'Trade' | translate }}</button>
                <button *ngIf="orderActionStatus(order) === 'ping'" (click)="ping(order)" class="uk-button uk-button-small uk-button-secondary">Ping</button>
                <button *ngIf="orderActionStatus(order) === 'pinging'" class="uk-button uk-button-small uk-button-disabled">Ping...</button>
                <button *ngIf="orderActionStatus(order) === 'disable'" class="uk-button uk-button-small uk-button-disabled">Ping</button>
              </td>
            </tr>
            <tr *ngIf="searchStatus == 'searching'">
              <td colspan="4" style="text-align: center;">{{ 'Searching' | translate }}...</td>
            </tr>
            <tr *ngIf="searchStatus == 'searched' && searchResults.length == 0">
              <td colspan="4" style="text-align: center;">{{ 'No matched orders' | translate }}</td>
            </tr>
            <tr *ngIf="searchStatus == 'searched' && searchingMore">
              <td colspan="4" style="text-align: center;">
                <a (click)="loadMoreSearchResults()" class="uk-link-text">{{ 'Load More Results' | translate }}</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div [hidden]="activePanel !== ''" uk-grid style="margin-top: 25px;">
      <div class="uk-width-1-1">
        <h3 class="uk-heading-divider uk-text-center" style="margin-bottom: 0;">{{ 'Your Trade History' | translate }}
        </h3>
        <table class="uk-table uk-table-striped uk-table-small" style="margin-top: 0;">
          <thead>
            <tr>
              <th class="uk-width-1-5@m uk-visible@m  uk-text-left">{{ 'Date' | translate }}</th>
              <th class="uk-width-1-5@m uk-width-1-6 uk-text-left">{{ 'Role' | translate }}</th>
              <th class="uk-width-1-5@m uk-width-1-3 uk-text-center">{{ 'You Pay' | translate }}</th>
              <th class="uk-width-1-5@m uk-width-1-3 uk-text-center">{{ 'You Get' | translate }}</th>
              <th class="uk-width-1-5@m uk-width-1-6 uk-text-center">{{ 'Status' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let swap of swaps()">
              <td (click)="selectSwap(swap)" class="uk-visible@m">{{ swapCreatedAt(swap) * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}</td>
              <td (click)="selectSwap(swap)" class="uk-text-left">{{ swapRole(swap) }}</td>
              <td (click)="selectSwap(swap)" class="uk-text-center">{{ swapPayValue(swap) }}<span style="font-size: 12px;"> {{ swapPayTokenTypeShown(swap) }}</span></td>
              <td (click)="selectSwap(swap)" class="uk-text-center">{{ swapGetValue(swap) }}<span style="font-size: 12px;"> {{ swapGetTokenTypeShown(swap) }}</span></td>
              <td (click)="selectSwap(swap)" class="uk-text-center" title="{{ swap.swap.status }}" uk-tooltip>{{ swapStatus(swap) }}</td>
            </tr>
            <tr *ngIf="noSwaps()">
              <td colspan="5" style="text-align: center;">{{ 'No trade history' | translate }}</td>
            </tr>
            <tr *ngIf="moreSwaps()">
              <td colspan="5" style="text-align: center;">
                <a (click)="loadMoreSwaps()" class="uk-link-text">{{ 'Load More Results' | translate }}</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Place Order Panel-->
    <div *ngIf="shouldShowMainAccountTips()" class="uk-alert-warning" uk-alert>
      <p><b>{{ 'Tips' | translate }}:</b> {{ 'The main acccount (#1 account of a wallet) is reserved for Raicoin P2P protocol, please add or switch to a secondary account to place order.' | translate }}</p>
    </div>
    <div [hidden]="activePanel !== 'place_order'" class="uk-card uk-card-default uk-margin">
      <div class="uk-card-header">
        <div uk-grid>
          <div class="uk-width-2-3">
            <h3 class="uk-card-title">{{ 'Place Order' | translate }}</h3>
          </div>
          <div *ngIf="placeOrderCollapsed" (click)="placeOrderCollapsed = false" class="uk-width-1-3 uk-text-right">
            <span uk-icon="icon: plus-circle"></span>
          </div>
          <div *ngIf="!placeOrderCollapsed" (click)="placeOrderCollapsed = true" class="uk-width-1-3 uk-text-right">
            <span uk-icon="icon: minus-circle"></span>
          </div>
        </div>
      </div>

      <div [hidden]="placeOrderCollapsed" class="uk-card-body">
        <div class="uk-form-horizontal">
          <app-asset-widget #placeAssetWidget (raiChange)="onPlaceAssetChanged()" raiAmountHint="The amount to swap" [raiShowRaicoin]="false"></app-asset-widget>

          <div class="uk-margin">
            <app-token-widget raiLabel="Exchange For" (raiChange)="syncPrice()" #placeToTokenWidget>
            </app-token-widget>
          </div>

          <div *ngIf="shouldShowPrice()" class="uk-margin">
            <label class="uk-form-label" for="form-input-price">{{ 'Price' | translate }} *<br /> <b>1
                {{showPriceBase()}} = ?</b></label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <a class="uk-form-icon uk-form-icon-flip"
                      style="padding-right: 7px; width: auto; text-align: right;">{{showPriceQuote()}}</a>
                    <a class="uk-form-icon" (click)="changePriceBase()" style="padding-right: 7px;">â‡„</a>
                    <input [(ngModel)]="priceInputText" (keyup)="syncPrice()" (blur)="syncPrice()"
                      (change)="syncPrice()" class="uk-input" id="form-input-price" type="text"
                      [ngClass]="{ 'uk-form-success': priceStatus === 1, 'uk-form-danger': priceStatus === 2 }">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="shouldShowPrice()" class="uk-margin">
            <label class="uk-form-label" for="form-select-min-trade">{{ 'Minimum Trade Size' | translate }} *</label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <select class="uk-select" [(ngModel)]="selectedMinTrade" id="form-select-min-trade">
                  <option *ngFor="let option of minTradeOptions" [value]="option">{{ option }}%</option>
                </select>
              </div>
            </div>
          </div>

          <div *ngIf="shouldShowTargetTokenAmount()" class="uk-margin">
            <label class="uk-form-label" for="form-input-target-token-amount">{{ 'Target Token Amount' | translate }}
              *</label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <a class="uk-form-icon uk-form-icon-flip"
                  style="padding-right: 7px; width: auto; text-align: right;">{{targetTokenSymbol()}}</a>
                <input [(ngModel)]="targetTokenAmountInputText" (keyup)="syncTargetTokenAmount()"
                  (blur)="syncTargetTokenAmount()" (change)="syncTargetTokenAmount()" class="uk-input"
                  id="form-input-target-token-amount" type="text"
                  [ngClass]="{ 'uk-form-success': targetTokenAmountSatus === 1, 'uk-form-danger': targetTokenAmountSatus === 2 }">
              </div>
            </div>
          </div>

          <div *ngIf="shouldShowTargetTokenId()" class="uk-margin">
            <label class="uk-form-label" for="form-input-target-token-id">{{ 'Target Token ID' | translate }} *</label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <input [(ngModel)]="targetTokenIdInputText" (keyup)="syncTargetTokenId()" (blur)="syncTargetTokenId()"
                  (change)="syncTargetTokenId()" class="uk-input" id="form-input-target-token-id" type="text"
                  [ngClass]="{ 'uk-form-success': targetTokenIdStatus === 1, 'uk-form-danger': targetTokenIdStatus === 2 }">
              </div>
            </div>
          </div>

          <div class="uk-margin">
            <label class="uk-form-label" for="form-select-expire">{{ 'Expire' | translate }} *</label>
            <div class="uk-form-controls">
              <div class="uk-inline uk-width-1-1">
                <select class="uk-select" [(ngModel)]="selectedExpire" id="form-select-expire">
                  <option *ngFor="let expire of expireOptions" [value]="expire">{{ showExpire(expire) }}</option>
                </select>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div [hidden]="placeOrderCollapsed" class="uk-card-footer uk-text-right">
        <div class="uk-width-1-1">
          <button *ngIf="!mainAccountSelected()" class="uk-button uk-button-primary" (click)="place()">{{ 'Place Order'
            | translate }}</button>
          <button *ngIf="mainAccountSelected()" class="uk-button uk-button-disabled">{{ 'Place Order' | translate }}</button>
        </div>
      </div>

    </div>
    <div [hidden]="activePanel !== 'place_order'" uk-grid style="margin-top: 25px;">
      <div class="uk-width-1-1">
        <h3 class="uk-heading-divider uk-text-center" style="margin-bottom: 0;">{{ 'Your Order History' | translate }}
        </h3>
        <div class="uk-width-1-1 uk-text-center">
          <input [checked]="ordersPaused()" (click)="toggleOrdersPaused()" class="uk-checkbox" type="checkbox"> {{ 'Pause all orders' | translate }} &nbsp;&nbsp;
          <input [checked]="hideCompletedOrders()" (click)="toggleHideCompletedOrders()" class="uk-checkbox" type="checkbox"> {{ 'Hide completed orders' | translate }}
        </div>

        <table class="uk-table uk-table-striped uk-table-small" style="margin-top: 0;">
          <thead>
            <tr>
              <th class="uk-width-1-6@m uk-visible@m  uk-text-left">{{ 'Creation Date' | translate }}</th>
              <th class="uk-width-1-6@m uk-width-1-6 uk-text-left">{{ 'Order ID' | translate }}</th>
              <th class="uk-width-1-6@m uk-width-1-4 uk-text-center">{{ 'From Token' | translate }}</th>
              <th class="uk-width-1-6@m uk-width-1-4 uk-text-center">{{ 'To Token' | translate }}</th>
              <th class="uk-width-1-6@m uk-width-1-6 uk-text-center">{{ 'Status' | translate }}</th>
              <th class="uk-width-1-6@m uk-width-1-6 uk-text-center"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of orders()">
              <td (click)="selectOrder(order)" class="uk-visible@m">{{ orderCreatedAt(order) * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}</td>
              <td (click)="selectOrder(order)" class="uk-text-truncate">{{ orderHash(order) }}</td>
              <td (click)="selectOrder(order)" class="uk-text-center">{{ orderFromTokenSymbol(order) }} <span style="font-size: 12px;">{{ orderFromTokenTypeShown(order) }}</span></td>
              <td (click)="selectOrder(order)" class="uk-text-center">{{ orderToTokenSymbol(order) }} <span style="font-size: 12px;">{{ orderToTokenTypeShown(order) }}</span></td>
              <td (click)="selectOrder(order)" class="uk-text-center">{{ orderStatus(order) }} <span style="font-size: 12px;">({{ orderFillRate(order) }})</span></td>
              <td class="uk-text-center uk-visible@m"><a ngxClipboard
                [cbContent]="orderHash(order) " (cbOnSuccess)="orderIdCopied()" uk-icon="icon: copy" title="{{ 'Copy Order ID' | translate }}" uk-tooltip></a>&nbsp;&nbsp;<a (click)="selectOrder(order)" uk-icon="icon: more;" title="{{ 'Show order details' | translate }}"
                  uk-tooltip></a></td>
              <td class="uk-text-center uk-hidden@m"><a ngxClipboard
                [cbContent]="orderHash(order) " (cbOnSuccess)="orderIdCopied()" uk-icon="icon: copy" title="{{ 'Copy Order ID' | translate }}" uk-tooltip></a><a (click)="selectOrder(order)" uk-icon="icon: more;" title="{{ 'Show order details' | translate }}" uk-tooltip></a>
              </td>
            </tr>
            <tr *ngIf="noOrders()">
              <td colspan="6" style="text-align: center;">{{ 'No order history' | translate }}</td>
            </tr>
            <tr *ngIf="moreOrders()">
              <td colspan="6" style="text-align: center;">
                <a (click)="loadMoreOrders()" class="uk-link-text">{{ 'Load More Orders' | translate }}</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Confirm Place Order Panel-->
    <div *ngIf="activePanel === 'confirm_place_order'" uk-grid class="uk-margin">
      <div class="uk-width-1-1">
        <div class="uk-card uk-card-default uk-text-center uk-text-warning">
          <span style="display:block; font-size: 32px;">{{ 'Please confirm the order details' | translate }}</span>
        </div>
        <br />

        <div uk-grid>
          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title">{{ confirmPlaceOrderFromToken() }}</span>
                    <span class="confirm-subtitle">{{ 'From Token' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title">{{ confirmPlaceOrderToToken() }}</span>
                    <span class="confirm-subtitle">{{ 'To Token' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title uk-text-truncate">{{ confirmPlaceOrderFromAmount() }}</span>
                    <span class="confirm-subtitle">{{ 'You Pay' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-break">
                  <div>
                    <span class="confirm-title">{{ confirmPlaceOrderToAmount() }}</span>
                    <span class="confirm-subtitle">{{ 'You Get' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div *ngIf="shouldShowPrice()" class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-break">
                  <div>
                    <span class="confirm-title">{{ selectedMinTrade }}%</span>
                    <span class="confirm-subtitle">{{ 'Minimum Trade Size' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-break">
                  <div>
                    <span class="confirm-title">{{ showExpire(+selectedExpire) }}</span>
                    <span class="confirm-subtitle">{{ 'Expire' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

        </div>

        <div uk-grid>
          <div class="uk-width-1-2@s ">
            <button (click)="activePanel = 'place_order'" class="uk-button uk-button-danger uk-width-1-1">{{ 'Cancel' |
              translate }}</button>
          </div>
          <div class="uk-width-1-2@s">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="confirmPlaceOrder()">{{ 'Confirm' |
              translate }}</button>
          </div>
        </div>

      </div>
    </div>

    <!--My Order Details Panel-->
    <div [hidden]="activePanel !== 'my_order_details'" class="uk-card uk-card-default uk-margin">
      <div class="uk-card-header">
        <div uk-grid>
          <h3 class="uk-card-title">{{ 'Order Details' | translate }}</h3>
        </div>
      </div>

      <div class="uk-card-body uk-padding-remove uk-form-horizontal">
        <div class="uk-padding-small" uk-grid>
          <div class="uk-width-1-1">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Order ID' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderHash() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderHash() " (cbOnSuccess)="orderIdCopied()" uk-icon="icon: copy" title="{{ 'Copy Order ID' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Status' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderStatus() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Creation Date' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderCreatedAt() * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Expire Date' | translate }}
              </div>
              <div *ngIf="!selectedOrderExpiredDateValid()" class="uk-width-3-5 uk-text-left">
                {{ selectedOrderExpiredAt() }}
              </div>
              <div *ngIf="selectedOrderExpiredDateValid()" class="uk-width-3-5 uk-text-left">
                {{ selectedOrderExpiredAt() * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Maker' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderMaker() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderMaker() " (cbOnSuccess)="makerCopied()" uk-icon="icon: copy" title="{{ 'Copy Maker Account' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'From Token' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div *ngIf="selectedOrderFromTokenTrusted()" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderFromTokenSymbol() }} <span style="font-size: 12px;">{{ selectedOrderFromTokenTypeAddress() }}</span>
                  </div>
                  <div *ngIf="!selectedOrderFromTokenTrusted()" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderFromTokenSymbol() }} <span style="font-size: 12px;">{{ selectedOrderFromTokenTypeShown() }}</span>
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderFromTokenAddress() " (cbOnSuccess)="tokenAddressCopied()" uk-icon="icon: copy" title="{{ 'Copy Token Address' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Amount' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedOrderFromTokenAmount() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'To Token' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderToTokenSymbol() }} <span style="font-size: 12px;">{{ selectedOrderToTokenTypeAddress() }}</span>
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderToTokenAddress() " (cbOnSuccess)="tokenAddressCopied()" uk-icon="icon: copy" title="{{ 'Copy Token Address' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Amount' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedOrderToTokenAmount() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Price' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedOrderFromValue() }}<span *ngIf="selectedOrderPairWithSameSymbol()" style="font-size: 12px;"> {{ selectedOrderFromTokenTypeShown() }}</span> = {{ selectedOrderToValue() }}<span *ngIf="selectedOrderPairWithSameSymbol()" style="font-size: 12px;"> {{ selectedOrderToTokenTypeShown() }}</span>
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Min Trade Size' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderMinTradeSize() }}
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Filled' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderFilledAmount() }}
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Remaining' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderLeftAmount() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Fill Rate' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderFillRate() }}
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="uk-card-footer uk-text-right">
        <div uk-grid id="id-margin-button">
          <div class="uk-width-1-2@m">
            <button (click)="activePanel='place_order'" class="uk-button uk-button-secondary uk-width-1-1">{{ 'Back' | translate }}</button>
          </div>
          <div *ngIf="selectedOrderCancelable()" class="uk-hidden@m uk-width-1-1 uk-grid-margin">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="cancelOrder()">{{ 'Cancel Order' | translate }}</button>
          </div>
          <div *ngIf="selectedOrderCancelable()" class="uk-visible@m uk-width-1-2">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="cancelOrder()">{{ 'Cancel Order' | translate }}</button>
          </div>
          <div *ngIf="!selectedOrderCancelable()" class="uk-hidden@m uk-width-1-1 uk-grid-margin">
            <button class="uk-button uk-button-disabled uk-width-1-1" >{{ 'Cancel Order' | translate }}</button>
          </div>
          <div *ngIf="!selectedOrderCancelable()" class="uk-visible@m uk-width-1-2">
            <button class="uk-button uk-button-disabled uk-width-1-1" >{{ 'Cancel Order' | translate }}</button>
          </div>
        </div>
      </div>

    </div>

    <!-- Confirm Cancel Order Panel-->
    <div *ngIf="activePanel === 'confirm_cancel_order'" uk-grid class="uk-margin">
      <div class="uk-width-1-1">
        <div class="uk-card uk-card-default uk-text-center">
          <span style="display: block; padding-top: 8px;">{{ 'You are about to cancel order' | translate }}</span>
          <span style="display: block; font-size: 32px;">{{ selectedOrderIdShort() }}</span>
        </div>
        <br />

        <div uk-grid>
          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">

                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title uk-text-truncate">{{ selectedOrderFromTokenSymbol() }} {{ selectedOrderFromTokenTypeShown() }}</span>
                    <span class="confirm-subtitle">{{ 'From Token' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
              <div class="uk-card-body" style="padding: 20px 20px;">
                <div uk-grid>
                  <div class="uk-width-1-1 uk-text-muted uk-text-break">
                    <span class="confirm-currency">{{ selectedOrderFromTokenAmount() }}</span>
                    <span class="confirm-subtitle">{{ 'Amount' | translate }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title uk-text-truncate">{{ selectedOrderToTokenSymbol() }} {{ selectedOrderToTokenTypeShown() }}</span>
                    <span class="confirm-subtitle">{{ 'To Token' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
              <div class="uk-card-body" style="padding: 20px 20px;">
                <div uk-grid>
                  <div class="uk-width-1-1 uk-text-muted uk-text-break">
                    <span class="confirm-currency">{{ selectedOrderToTokenAmount() }}</span>
                    <span class="confirm-subtitle">{{ 'Amount' | translate }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div uk-grid>
          <div class="uk-width-1-2@s">
            <button (click)="activePanel = 'my_order_details'" class="uk-button uk-button-danger uk-width-1-1">{{ 'Cancel' |
              translate }}</button>
          </div>

          <div class="uk-width-1-2@s">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="confirmCancelOrder()">{{ 'Confirm' | translate }}</button>
          </div>
        </div>

      </div>
    </div>

    <!-- Order Details Panel-->
    <div [hidden]="activePanel !== 'order_details'" class="uk-card uk-card-default uk-margin">
      <div class="uk-card-header">
        <div uk-grid>
          <h3 class="uk-card-title">{{ 'Order Details' | translate }}</h3>
        </div>
      </div>

      <div class="uk-card-body uk-padding-remove uk-form-horizontal">
        <div class="uk-padding-small" uk-grid>
          <div class="uk-width-1-1">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Order ID' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderHash() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderHash() " (cbOnSuccess)="orderIdCopied()" uk-icon="icon: copy" title="{{ 'Copy Order ID' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Status' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderStatus() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Creation Date' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderCreatedAt() * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Expire Date' | translate }}
              </div>
              <div *ngIf="!selectedOrderExpiredDateValid()" class="uk-width-3-5 uk-text-left">
                {{ selectedOrderExpiredAt() }}
              </div>
              <div *ngIf="selectedOrderExpiredDateValid()" class="uk-width-3-5 uk-text-left">
                {{ selectedOrderExpiredAt() * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Maker' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderMaker() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderMaker() " (cbOnSuccess)="makerCopied()" uk-icon="icon: copy" title="{{ 'Copy Maker Account' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'From Token' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div *ngIf="selectedOrderFromTokenTrusted()" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderFromTokenSymbol() }} <span style="font-size: 12px;">{{ selectedOrderFromTokenTypeAddress() }}</span>
                  </div>
                  <div *ngIf="!selectedOrderFromTokenTrusted()" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderFromTokenSymbol() }} <span style="font-size: 12px;">{{ selectedOrderFromTokenTypeShown() }}</span>
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderFromTokenAddress() " (cbOnSuccess)="tokenAddressCopied()" uk-icon="icon: copy" title="{{ 'Copy Token Address' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Amount' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedOrderFromTokenAmount() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'To Token' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedOrderToTokenSymbol() }} <span style="font-size: 12px;">{{ selectedOrderToTokenTypeAddress() }}</span>
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedOrderToTokenAddress() " (cbOnSuccess)="tokenAddressCopied()" uk-icon="icon: copy" title="{{ 'Copy Token Address' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Amount' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedOrderToTokenAmount() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Price' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedOrderFromValue() }}<span *ngIf="selectedOrderPairWithSameSymbol()" style="font-size: 12px;"> {{ selectedOrderFromTokenTypeShown() }}</span> = {{ selectedOrderToValue() }}<span *ngIf="selectedOrderPairWithSameSymbol()" style="font-size: 12px;"> {{ selectedOrderToTokenTypeShown() }}</span>
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Min Trade Size' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderMinTradeSize() }}
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Filled' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderFilledAmount() }}
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Remaining' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderLeftAmount() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Fill Rate' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedOrderFillRate() }}
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="uk-card-footer uk-text-right">
        <div uk-grid id="id-margin-button">
          <div class="uk-width-1-2@m">
            <button (click)="activePanel=''" class="uk-button uk-button-secondary uk-width-1-1">{{ 'Back' | translate }}</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'ping'" class="uk-hidden@m uk-width-1-1 uk-grid-margin">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="pingSelectedOrder()">Ping</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'ping'" class="uk-visible@m uk-width-1-2">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="pingSelectedOrder()">Ping</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'pinging'" class="uk-hidden@m uk-width-1-1 uk-grid-margin">
            <button class="uk-button uk-button-disabled uk-width-1-1" >Ping...</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'pinging'" class="uk-visible@m uk-width-1-2">
            <button class="uk-button uk-button-disabled uk-width-1-1" >Ping...</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'trade'" class="uk-hidden@m uk-width-1-1 uk-grid-margin">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="activateSwapPanel()">{{ 'Trade' | translate }}</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'trade'" class="uk-visible@m uk-width-1-2">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="activateSwapPanel()">{{ 'Trade' | translate }}</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'disable'" class="uk-hidden@m uk-width-1-1 uk-grid-margin">
            <button class="uk-button uk-button-disabled uk-width-1-1" >Ping</button>
          </div>
          <div *ngIf="selectedOrderActionStatus() === 'disable'" class="uk-visible@m uk-width-1-2">
            <button class="uk-button uk-button-disabled uk-width-1-1" >Ping</button>
          </div>
        </div>
      </div>

    </div>

    <!-- Swap Panel-->
    <div [hidden]="activePanel !== 'swap'" class="uk-card uk-card-default uk-margin">
      <div class="uk-card-header">
        <h3 class="uk-card-title">{{ 'Trade' | translate }}</h3>
      </div>

      <div class="uk-card-body">
        <div class="uk-form-horizontal">

          <div class="uk-margin">
            <app-token-widget raiLabel="{{ 'You pay' | translate }}" [raiChangable]="false" #swapToTokenWidget ></app-token-widget>
          </div>

          <div *ngIf="selectedOrderWithFungiblePair()" class="uk-margin">
            <label class="uk-form-label" for="form-input-swap-to-amount">
              {{ 'Amount' | translate }} *
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <a class="uk-form-icon uk-form-icon-flip" style="padding-right: 7px; width: auto;"><span (click)="swapToAmountMin()" uk-tooltip title="{{ 'Set Minimum Amount' | translate }}">{{ 'Min' | translate }}</span>&nbsp;&nbsp;<span (click)="swapToAmountMax()" uk-tooltip title="{{ 'Set Maximum Amount' | translate }}">{{ 'Max' | translate }}</span></a>
                    <input (change)="syncSwapToAmount()" (keyup)="syncSwapToAmount()" [(ngModel)]="inputSwapToAmount" class="uk-input" id="form-input-swap-to-amount" type="text" placeholder="{{ swapToAmountHint() }}" [ngClass]="{ 'uk-form-success': swapToAmountStatus === 1, 'uk-form-danger': swapToAmountStatus === 2 }">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="!selectedOrderWithFungiblePair() && selectedOrderToTokenType() === '20'"  class="uk-margin">
            <label class="uk-form-label" for="form-input-swap-to-amount">
              {{ 'Amount' | translate }}
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <input [(ngModel)]="inputSwapToAmount" id="form-input-swap-to-amount" class="uk-input"
                    type="text"  autocomplete="off" disabled />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderToTokenType() === '721'"  class="uk-margin">
            <label class="uk-form-label" for="form-input-swap-to-id">
              {{ 'Token ID' | translate }}
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <input [(ngModel)]="inputSwapToTokenId" id="form-input-swap-to-id" class="uk-input"
                    type="text"  autocomplete="off" disabled />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-margin">
            <app-token-widget raiLabel="{{ 'You get' | translate }}"  [raiChangable]="false" #swapFromTokenWidget ></app-token-widget>
          </div>

          <div *ngIf="selectedOrderFromTokenType() === '20'"  class="uk-margin">
            <label class="uk-form-label" for="form-input-swap-from-amount">
              {{ 'Amount' | translate }}
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <input [(ngModel)]="inputSwapFromAmount" id="form-input-swap-from-amount" class="uk-input"
                    type="text"  autocomplete="off" disabled />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="selectedOrderFromTokenType() === '721'"  class="uk-margin">
            <label class="uk-form-label" for="form-input-swap-from-id">
              {{ 'Token ID' | translate }}
            </label>
            <div class="uk-form-controls">
              <div uk-grid>
                <div class="uk-width-1-1">
                  <div class="uk-inline uk-width-1-1">
                    <input [(ngModel)]="inputSwapFromTokenId" id="form-input-swap-from-id" class="uk-input"
                    type="text"  autocomplete="off" disabled />
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="uk-card-footer uk-text-right">
        <div uk-grid>
          <div class="uk-width-1-2@m">
            <button (click)="activePanel = 'order_details'" class="uk-button uk-button-secondary uk-width-1-1">{{ 'Back' | translate }}</button>
          </div>
          <div class="uk-width-1-2@m">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="swap()">{{ 'Swap' | translate }}</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirm Swap Panel-->
    <div *ngIf="activePanel === 'confirm_swap'" uk-grid class="uk-margin">
      <div class="uk-width-1-1">
        <div class="uk-card uk-card-default uk-text-center uk-text-warning">
          <span style="display:block; font-size: 32px;">{{ 'Please confirm the swap details' | translate }}</span>
        </div>
        <br />

        <div uk-grid>
          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title">{{ confirmSwapToToken() }}</span>
                    <span class="confirm-subtitle">{{ 'From Token' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-truncate">
                  <div>
                    <span class="confirm-title">{{ confirmSwapFromToken() }}</span>
                    <span class="confirm-subtitle">{{ 'To Token' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-break">
                  <div>
                    <span class="confirm-currency uk-text-danger">-{{ confirmSwapToAmount() }}</span>
                    <span class="confirm-subtitle">{{ 'You Pay' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

          <div class="uk-width-1-2@m">
            <div class="uk-card uk-card-default">
              <div class="uk-card-header uk-text-left" style="padding: 20px 20px;">
                <span class="confirm-title uk-text-break">
                  <div>
                    <span class="confirm-currency uk-text-success">+{{ confirmSwapFromAmount() }}</span>
                    <span class="confirm-subtitle">{{ 'You Get' | translate }}</span>
                    <br class="br-spacer" />
                  </div>
                </span>
              </div>
            </div>
          </div>

        </div>

        <div uk-grid>
          <div class="uk-width-1-2@s ">
            <button (click)="activePanel = 'swap'" class="uk-button uk-button-danger uk-width-1-1">{{ 'Cancel' |
              translate }}</button>
          </div>
          <div class="uk-width-1-2@s">
            <button class="uk-button uk-button-primary uk-width-1-1" (click)="confirmSwap()">{{ 'Confirm' |
              translate }}</button>
          </div>
        </div>

      </div>
    </div>

    <!-- Swap Details Panel-->
    <div [hidden]="activePanel !== 'swap_details'" class="uk-card uk-card-default uk-margin">
      <div class="uk-card-header">
        <div uk-grid>
          <h3 class="uk-card-title">{{ 'Swap Details' | translate }}</h3>
        </div>
      </div>

      <div class="uk-card-body uk-padding-remove uk-form-horizontal">
        <div class="uk-padding-small" uk-grid>
          <div class="uk-width-1-1">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Swap ID' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapHash() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedSwapHash() " (cbOnSuccess)="swapIdCopied()" uk-icon="icon: copy" title="{{ 'Copy Swap ID' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Status' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedSwapStatus() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Creation Date' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedSwapCreatedAt() * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Expire Date' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedSwapExpiredAt() * 1000 | date:'yyyy-MM-dd HH:mm:ss' }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Order ID' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapOrderHash() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedSwapOrderHash() " (cbOnSuccess)="orderIdCopied()" uk-icon="icon: copy" title="{{ 'Copy Order ID' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Maker' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapMaker() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedSwapMaker() " (cbOnSuccess)="makerCopied()" uk-icon="icon: copy" title="{{ 'Copy Maker Account' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Taker' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapTaker() }}
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedSwapTaker() " (cbOnSuccess)="takerCopied()" uk-icon="icon: copy" title="{{ 'Copy Taker Account' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Your Role' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                {{ selectedSwapRole() }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'You Pay' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div *ngIf="selectedSwapTokenTrusted(true)" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapTokenSymbol(true) }} <span style="font-size: 12px;">{{ selectedSwapTokenTypeAddress(true) }}</span>
                  </div>
                  <div *ngIf="!selectedSwapTokenTrusted(true)" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapTokenSymbol(true) }} <span style="font-size: 12px;">{{ selectedSwapTokenTypeShown(true) }}</span>
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedSwapTokenAddress(true) " (cbOnSuccess)="tokenAddressCopied()" uk-icon="icon: copy" title="{{ 'Copy Token Address' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Amount' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedSwapTokenAmount(true) }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'You Get' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left">
                <div uk-grid>
                  <div *ngIf="selectedSwapTokenTrusted(false)" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapTokenSymbol(false) }} <span style="font-size: 12px;">{{ selectedSwapTokenTypeAddress(false) }}</span>
                  </div>
                  <div *ngIf="!selectedSwapTokenTrusted(false)" class="uk-width-expand uk-width-auto@m uk-text-truncate uk-padding-remove-right">
                    {{ selectedSwapTokenSymbol(false) }} <span style="font-size: 12px;">{{ selectedSwapTokenTypeShown(false) }}</span>
                  </div>
                  <div class="uk-width-auto uk-width-expand@m uk-padding-remove-left">
                    <a ngxClipboard
                      [cbContent]="selectedSwapTokenAddress(false) " (cbOnSuccess)="tokenAddressCopied()" uk-icon="icon: copy" title="{{ 'Copy Token Address' | translate }}" uk-tooltip></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Amount' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedSwapTokenAmount(false) }}
              </div>
            </div>
          </div>

          <div class="uk-width-1-1 uk-margin-small-top">
            <div uk-grid>
              <div class="uk-width-2-5 uk-text-left">
                {{ 'Price' | translate }}
              </div>
              <div class="uk-width-3-5 uk-text-left uk-text-break">
                {{ selectedSwapOrderFromValue() }}<span *ngIf="selectedSwapPairWithSameSymbol()" style="font-size: 12px;"> {{ selectedSwapFromTokenTypeShown() }}</span> = {{ selectedSwapOrderToValue() }}<span *ngIf="selectedSwapPairWithSameSymbol()" style="font-size: 12px;"> {{ selectedSwapToTokenTypeShown() }}</span>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="uk-card-footer uk-text-right">
        <div class="uk-width-1-1">
          <button class="uk-button uk-button-secondary" (click)="unselectSwap()">{{ 'Back'
            | translate }}</button>
        </div>
      </div>

    </div>


    <!-- End -->
  </div>
</div>